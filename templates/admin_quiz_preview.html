{% extends "base.html" %}

{% block title %}Quiz Preview - Quiz App{% endblock %}

{% block nav_links %}
<a href="/admin/dashboard" class="hover:text-blue-200 transition mr-4">Dashboard</a>
<a href="/admin/quizzes" class="hover:text-blue-200 transition mr-4">Manage Quizzes</a>
<a href="/admin/scores" class="hover:text-blue-200 transition mr-4">View Scores</a>
<a href="/admin/users" class="hover:text-blue-200 transition mr-4">Manage Users</a>
<a href="/logout" class="hover:text-blue-200 transition">Logout</a>
{% endblock %}

{% block nav_links_mobile %}
<a href="/admin/dashboard" class="hover:text-blue-200 transition py-2">Dashboard</a>
<a href="/admin/quizzes" class="hover:text-blue-200 transition py-2">Manage Quizzes</a>
<a href="/admin/scores" class="hover:text-blue-200 transition py-2">View Scores</a>
<a href="/admin/users" class="hover:text-blue-200 transition py-2">Manage Users</a>
<a href="/logout" class="hover:text-blue-200 transition py-2">Logout</a>
{% endblock %}

{% block content %}
<div class="max-w-8xl mx-auto">
    <div class="bg-white rounded-lg shadow-lg p-8 mb-8">
        <h1 class="text-4xl font-bold text-gray-800 mb-2">{{ exam.title }}</h1>
        <p class="text-gray-600">Quiz Preview - Correct Answers Highlighted</p>
    </div>

    <!-- Fill in the Blanks Section -->
    {% if exam.fill_in_the_blanks %}
    <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2">Fill in the Blanks</h2>
        {% for question in exam.fill_in_the_blanks %}
        <div class="mb-6 p-4 rounded-lg bg-green-50 border-2 border-green-200">
            <p class="font-semibold text-gray-800 mb-3">
                {{ loop.index }}. {{ question.question }}
            </p>
            <div class="flex items-center">
                <svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span class="text-green-700 font-semibold">Correct Answer:</span>
                <span class="ml-2 text-green-800 font-medium">{{ question.answer }}</span>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- True/False Section -->
    {% if exam.true_false %}
    <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2">True or False</h2>
        {% for question in exam.true_false %}
        <div class="mb-6 p-4 rounded-lg bg-green-50 border-2 border-green-200">
            <p class="font-semibold text-gray-800 mb-3">
                {{ loop.index }}. {{ question.question }}
            </p>
            <div class="flex items-center">
                <svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                </svg>
                <span class="text-green-700 font-semibold">Correct Answer:</span>
                <span class="ml-2 text-green-800 font-medium">{{ "True" if question.answer else "False" }}</span>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Multiple Choice Questions Section -->
    {% if exam.mcqs %}
    <div class="bg-white rounded-lg shadow-lg p-8 mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-2">Multiple Choice Questions</h2>
        {% for question in exam.mcqs %}
        <div class="mb-6 p-4 rounded-lg bg-green-50 border-2 border-green-200">
            <p class="font-semibold text-gray-800 mb-3">
                {{ loop.index }}. {{ question.question }}
            </p>
            <div class="space-y-2 ml-6">
                {% for option in question.options %}
                <div class="flex items-center p-2 rounded {% if option == question.answer %}bg-green-200{% else %}bg-white{% endif %}">
                    {% if option == question.answer %}
                    <svg class="w-5 h-5 text-green-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    {% else %}
                    <span class="w-5 h-5 mr-2"></span>
                    {% endif %}
                    <span class="{% if option == question.answer %}font-semibold text-green-800{% else %}text-gray-700{% endif %}">
                        {{ option }}
                    </span>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <div class="bg-white rounded-lg shadow-lg p-8">
        <a href="/admin/dashboard"
            class="block text-center bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition font-semibold">
            Back to Dashboard
        </a>
    </div>
</div>
{% endblock %}
